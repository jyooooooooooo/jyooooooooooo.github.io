<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jyo</title>
  <link rel="stylesheet" href="styles.css" />

  <style>
    .bookshelf-grid {
      max-width: 1000px; 
      margin: 0 auto; 
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 20px;
      padding: 0;
    }

    .bookshelf-book {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      font-size: 0.85em;
    }

    .bookshelf-book img {
      width: 100px;
      height: auto;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      border-radius: 4px;
      margin-bottom: 8px;
      transition: transform 0.2s;
    }

    .bookshelf-book img:hover {
      transform: scale(1.05);
    }
  </style>
</head>

<body>
  <header aria-label="Jyotsna Iyer"></header>

  <div class="menu-button" onclick="toggleMenu()" style="margin-bottom: 10px;">☰</div>
  <div id="nav-placeholder" style="margin-bottom: 10px;"></div>

  <div class="container" style="margin-top: 0; padding-top: 0;">
    <div class="content" style="text-align: left; margin-top: 0; padding-top: 0;">
      <section>
        <h2></h2>
        <div class="bookshelf-grid" id="bookshelf"></div>

        <p style="margin-top: 40px;"><b></b><br><br></p>
      </section>
    </div>
  </div>

  <footer>
    <a href="https://twitter.com/jyotsna_iy">
      <img src="https://raw.githubusercontent.com/jyotsna-iy/jyotsna-iy.github.io/main/twitter.png" alt="Twitter Logo" />
    </a>
    <a href="https://www.are.na/jyotsna-_iy">
      <img src="https://raw.githubusercontent.com/jyotsna-iy/jyotsna-iy.github.io/main/arena.png" alt="Arena Logo" />
    </a>
    <a href="https://www.linkedin.com/in/jyotsna-iy/">
      <img src="https://raw.githubusercontent.com/jyotsna-iy/jyotsna-iy.github.io/main/linkedin.png" alt="LinkedIn Logo" />
    </a>
    <a href="https://jyotsna-iy.github.io/psa">
      <div class="psa-image"></div>
    </a>
  </footer>

  <script src="script.js"></script>

  <script>
const books = [
 { title: "Meet the Savarnas: Indian Millennials Whose Mediocrity Broke Everything", author: "Ravikant Kisana" },
  { title: "Make Me a Man!: Masculinity, Hinduism, and Nationalism in India", author: "Sikata Bannerjee" },
  { title: "Family Values: Between Neoliberalism and the New Social Conservatism", author: "Melinda Cooper" },
  { title: "A Philosophy of Walking", author: "Fredric Gros" },
  { title: "A Philosophy of Shame: A Revolutionary Emotion", author: "Fredric Gros" },
  { title: "Post-Millennial Indian Speculative Fiction in English: Desi Dystopias and Ideas of Belonging", author: "E. Dawson Varughese" },
  { title: "Absolute Ethical Life: Aristotle, Hegel and Marx", author: "Michel Lazarus" },
  { title: "Brutal Aesthetics: Dubuffet, Bataille, Jorn, Paolozzi, Oldenburg ", author: "Hal Foster" },
  { title: "Male Fantasies: Volume 1: Women Floods Bodies History", author: "Klaus Theweleit" },
  { title: "Desire and its Discontents", author: "Dipika Jain and Oishik Sarkar" },
  { title: "Iconoclast: A Reflective Biography Of Dr Babasaheb Ambedkar", author: "Anand Teltumbde" },
  { title: "Eternal Sovereigns: Indigenous Artists, Activists, and Travelers Reframing Rome", author: "Gloria Jane Bell" },  
   { title: "The Vulgarity of Caste: Dalits, Sexuality, and Humanity in Modern India ", author: "Shailaja Paik" },
  { title: "What Design Can’t Do: Essays on Design and Disillusion", author: "Silvio Lorusso" },
  { title: "I Accuse This Liberal University of Terror and Violence", author: "Fredy Perlman" },
  { title: "The Detroit Printing Co-op: The Politics of the Joy of Printing", author: "Danielle Aubert" },
  { title: "Research For People Who Think They Would Rather Create", author: "Dirk Vis" },
 { title: "Radical Intimacies: Designing Non-Extractive Relationalities", author: "Edited by Oliver Vodeb" },
  { title: "Radical Intimacy", author: "Sophie Rosa" },
  { title: "The Accumulation of Waste: A Political Economy of Systemic Destruction", author: "Ali Kadri" },  
  { title: "A Lovers Discourse", author: "Roland Barthes" },
  { title: "Mute Compulsion: A Marxist Theory of the Economic Power of Capital", author: "Soren Mau" },
  { title: "Bureaucratic Archaeology", author: "Ashish Avikunthak" },
  { title: "The God Market", author: "Meera Nanda" },
  { title: "Caledonian Road", author: "Andrew O Hagan" },
  { title: "Class Matrix", author: "Varun Chibber" },
  { title: "Surplus Enjoyment", author: "Slavoj Zizek" },
  { title: "Art On My Mind", author: "Bell Hooks" },
  { title: "Pakistan Desires", author: "Osman Kasmani" },
  { title: "Why Loiter?: Women And Risk On Mumbai Streets", author: "Shilpa Phadke" },
  { title: "Yaari: An Anthology on Friendship by Women and Queer Folx", author: "Shilpa Phadke" },

];

 const shelf = document.getElementById("bookshelf");
    const fallbackImage = "https://raw.githubusercontent.com/jyotsna-iy/jyotsna-iy.github.io/main/document.png";

    async function fetchCoverID(book) {
      try {
        const response = await fetch(
          `https://openlibrary.org/search.json?title=${encodeURIComponent(book.title)}&author=${encodeURIComponent(book.author)}`
        );
        const data = await response.json();
        const result = data.docs[0];
        return result?.cover_i || null;
      } catch (error) {
        console.error("Cover fetch failed for:", book.title);
        return null;
      }
    }

    async function renderBooks() {
      for (const book of books) {
        const coverId = await fetchCoverID(book);
        const bookDiv = document.createElement("div");
        bookDiv.className = "bookshelf-book";

        const img = document.createElement("img");
        if (coverId) {
          img.src = `https://covers.openlibrary.org/b/id/${coverId}-M.jpg`;
        } else {
          img.src = fallbackImage;
        }
        img.alt = `Cover of ${book.title}`;
        img.onerror = () => {
          img.src = fallbackImage;
        };

        const caption = document.createElement("div");
        caption.textContent = book.title;

        bookDiv.appendChild(img);
        bookDiv.appendChild(caption);
        shelf.appendChild(bookDiv);
      }
    }

    renderBooks();
  </script>
</body>
</html>
